<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Senior Design | APOE iPSC Brain Organoids</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#fff;
      --fg:#000;
      --grey: rgba(0,0,0,.45);
      --pad: 18px;
      --max: 1180px;
      --gap: 22px;
      --tileW: min(46vw, 540px);
      --tileH: min(30vw, 400px);
      --titleMax: 1300px;
      --titleColor: #A61717;
    }

    html{
      scroll-behavior: smooth;
    }

    body{
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font-family:"Archivo Black", sans-serif;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }
    *, *::before, *::after{ box-sizing:border-box; }
    a{ color:inherit; text-decoration:none; }
    a:hover, a:focus{ text-decoration:none; }
    ::selection{ background:#000; color:#fff; }
    *{ border:none !important; outline-color: transparent; }

    /* ----------------------------
       HERO SECTION - Full viewport height
    ---------------------------- */
    .hero{
      height: 100vh;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    /* ----------------------------
       SPLIT TITLE - Uses mask to reveal halves
    ---------------------------- */
    .title-container{
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 30;
      pointer-events: none;
      width: min(var(--titleMax), calc(100vw - 2*var(--pad)));
      display: flex;
      justify-content: center;
    }

    .title-wrapper{
      position: relative;
      width: 100%;
    }

    /* Base title - always visible initially */
    .title-base{
      margin: 0;
      font-weight: 400;
      line-height: 0.98;
      letter-spacing: -0.03em;
      text-align: center;
      font-size: clamp(50px, 6vw, 140px);
      color: var(--titleColor);
      opacity: 1;
      transition: opacity 0.3s ease;
    }

    .title-base.hidden{
      opacity: 0;
    }

    /* Split halves - positioned absolutely over base */
    .title-half{
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      margin: 0;
      font-weight: 400;
      line-height: 0.98;
      letter-spacing: -0.03em;
      text-align: center;
      font-size: clamp(50px, 6vw, 140px);
      color: var(--titleColor);
      opacity: 0;
      transition: opacity 0.1s ease;
      will-change: transform, opacity;
    }

    .title-half.visible{
      opacity: 1;
    }

    .title-left{
      clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
    }

    .title-right{
      clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%);
    }

    /* ----------------------------
       BUBBLE NAVIGATION
    ---------------------------- */
    .bubble-nav{
      position: fixed;
      right: 40px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 40;
      display: flex;
      flex-direction: column;
      gap: 20px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.6s ease;
    }

    .bubble-nav.visible{
      opacity: 1;
      pointer-events: auto;
    }

    .bubble{
      position: relative;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      cursor: pointer;
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      background: #eee;
    }

    .bubble:nth-child(1){ transform: translateX(0px); }
    .bubble:nth-child(2){ transform: translateX(-30px); }
    .bubble:nth-child(3){ transform: translateX(15px); }
    .bubble:nth-child(4){ transform: translateX(-20px); }
    .bubble:nth-child(5){ transform: translateX(10px); }

    .bubble:hover{
      transform: scale(1.15) !important;
      box-shadow: 0 8px 30px rgba(166, 23, 23, 0.3);
    }

    .bubble img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
      filter: grayscale(100%);
      transition: filter 0.3s ease, transform 0.3s ease;
    }

    .bubble:hover img{
      filter: grayscale(0%);
      transform: scale(1.1);
    }

    .bubble-label{
      position: absolute;
      right: calc(100% + 15px);
      top: 50%;
      transform: translateY(-50%);
      background: var(--titleColor);
      color: #fff;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 10px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease, transform 0.3s ease;
      transform: translateY(-50%) translateX(10px);
    }

    .bubble:hover .bubble-label{
      opacity: 1;
      transform: translateY(-50%) translateX(0);
    }

    /* ----------------------------
       MAIN CONTENT
    ---------------------------- */
    main{
      max-width:var(--max);
      margin:0 auto;
      padding: 0 var(--pad) 90px;
      position:relative;
      z-index:1;
    }

    .gallery-wrap{
      min-height: 100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 10vh 0;
    }

    .gallery{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--gap);
      align-items:center;
    }

    .col{
      display:grid;
      grid-template-rows: repeat(4, auto);
      gap: var(--gap);
      align-items:center;
      justify-items:center;
    }

    .tile{
      width: var(--tileW);
      height: var(--tileH);
      display:block;
      position:relative;
      overflow:hidden;
      background: rgba(0,0,0,.06);
      transform: translateZ(0);
    }

    .tile img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      filter: grayscale(100%);
      transition: filter .25s ease, transform .25s ease;
      will-change: transform, filter;
    }
    .tile:hover img{
      filter: grayscale(0%);
      transform: scale(1.02);
    }

    .cap{
      position:absolute;
      left:10px;
      top:10px;
      color: rgba(0,0,0,.72);
      mix-blend-mode:multiply;
      pointer-events:none;
      text-transform:uppercase;
      letter-spacing:.10em;
      font-size:11px;
      line-height:1.2;
    }

    /* Scroll indicator */
    .scroll-indicator{
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      color: var(--grey);
      font-size: 10px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      animation: bounce 2s infinite;
    }

    .scroll-indicator::after{
      content: '';
      width: 1px;
      height: 40px;
      background: linear-gradient(to bottom, var(--grey), transparent);
    }

    @keyframes bounce{
      0%, 20%, 50%, 80%, 100%{ transform: translateX(-50%) translateY(0); }
      40%{ transform: translateX(-50%) translateY(-10px); }
      60%{ transform: translateX(-50%) translateY(-5px); }
    }

    /* Responsive */
    @media (max-width: 820px){
      :root{
        --tileW: min(92vw, 640px);
        --tileH: 320px;
      }
      .gallery{ grid-template-columns: 1fr; }
      .gallery-wrap{ padding: 8vh 0 12vh; }
      .title-base,
      .title-half{
        font-size: clamp(38px, 10vw, 90px);
        line-height: 0.95;
      }
      .bubble-nav{
        right: 15px;
        gap: 15px;
      }
      .bubble{
        width: 55px;
        height: 55px;
      }
      .bubble:nth-child(1){ transform: translateX(0px); }
      .bubble:nth-child(2){ transform: translateX(-15px); }
      .bubble:nth-child(3){ transform: translateX(8px); }
      .bubble:nth-child(4){ transform: translateX(-10px); }
      .bubble:nth-child(5){ transform: translateX(5px); }
      .bubble-label{
        display: none;
      }
    }

    /* ----------------------------
       MENU OVERLAY
    ---------------------------- */
    .overlay{
      position:fixed;
      inset:0;
      background:#fff;
      z-index:100;
      display:none;
    }
    .overlay.open{ display:block; }
    .overlay-inner{
      max-width:var(--max);
      margin:0 auto;
      padding:18px var(--pad) 36px;
      height:100%;
      display:grid;
      grid-template-rows:auto 1fr auto;
      gap:18px;
    }
    .overlay-top{
      display:flex;
      justify-content:flex-end;
    }
    .overlay-grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:18px;
    }
    @media (max-width:720px){
      .overlay-grid{ grid-template-columns:1fr; }
    }
    .overlay-h{
      font-size:11px;
      font-weight:400;
      letter-spacing:.14em;
      text-transform:uppercase;
      margin:0 0 10px 0;
      color: var(--grey);
    }
    .overlay-list{
      list-style:none;
      padding:0;
      margin:0;
      display:grid;
      gap:10px;
    }
    .overlay-item a{
      display:inline-block;
      text-transform:uppercase;
      letter-spacing:.10em;
      font-weight:400;
      font-size:12px;
      line-height:1.2;
      color: var(--grey);
      transition: color .2s ease;
    }
    .overlay-item a:hover,
    .overlay-item a:focus{
      color:#000;
      outline:none;
    }

    /* ----------------------------
       COPYRIGHT
    ---------------------------- */
    .copyright-section{
      padding: 2vh 0 2vh;
      text-align:center;
      color:var(--grey);
      text-transform:uppercase;
      letter-spacing:.12em;
      font-size:11px;
    }
  </style>
</head>

<body>
  <!-- Split Title -->
  <div class="title-container" id="titleContainer">
    <div class="title-wrapper">
      <!-- Base title shown initially -->
      <h1 class="title-base" id="titleBase">Team 23: Modeling APOE Genotype-Specific Alzheimer's Disease Pathology Using Isogenic iPSC Derived Brain Organoids</h1>
      
      <!-- Split halves - hidden initially, shown during animation -->
      <h1 class="title-half title-left" id="titleLeft" aria-hidden="true">Team 23: Modeling APOE Genotype-Specific Alzheimer's Disease Pathology Using Isogenic iPSC Derived Brain Organoids</h1>
      <h1 class="title-half title-right" id="titleRight" aria-hidden="true">Team 23: Modeling APOE Genotype-Specific Alzheimer's Disease Pathology Using Isogenic iPSC Derived Brain Organoids</h1>
    </div>
  </div>

  <!-- Bubble Navigation -->
  <nav class="bubble-nav" id="bubbleNav" aria-label="Visual navigation">
    <a class="bubble" href="background.html">
      <img src="images/p1.jpg" alt="Background">
      <span class="bubble-label">Background</span>
    </a>
    <a class="bubble" href="wetlab.html">
      <img src="images/p2.jpg" alt="Wet-Lab">
      <span class="bubble-label">Wet-Lab</span>
    </a>
    <a class="bubble" href="compbio.html">
      <img src="images/p3.jpg" alt="Comp-Bio">
      <span class="bubble-label">Comp-Bio</span>
    </a>
    <a class="bubble" href="team.html">
      <img src="images/p4.jpg" alt="Team">
      <span class="bubble-label">Team</span>
    </a>
    <a class="bubble" href="ack.html">
      <img src="images/p5.jpg" alt="Acknowledgements">
      <span class="bubble-label">Acknowledgements</span>
    </a>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="scroll-indicator">Scroll</div>
  </section>

  <section class="overlay" id="menuOverlay" role="dialog" aria-modal="true" aria-label="Site menu">
    <div class="overlay-inner">
      <div class="overlay-top">
        <button class="closebtn" id="closeMenu">Close</button>
      </div>
      <div class="overlay-grid">
        <div>
          <h3 class="overlay-h">Navigate</h3>
          <ul class="overlay-list">
            <li class="overlay-item"><a href="index.html" data-close>Main</a></li>
            <li class="overlay-item"><a href="background.html" data-close>Background</a></li>
            <li class="overlay-item"><a href="wetlab.html" data-close>Wet-Lab</a></li>
            <li class="overlay-item"><a href="compbio.html" data-close>Comp-Bio</a></li>
            <li class="overlay-item"><a href="team.html" data-close>Team</a></li>
            <li class="overlay-item"><a href="ack.html" data-close>Acknowledgements</a></li>
          </ul>
        </div>
        <div>
          <h3 class="overlay-h">Links</h3>
          <ul class="overlay-list">
            <li class="overlay-item"><a href="#" onclick="alert('Replace with poster link'); return false;">Poster (PDF)</a></li>
            <li class="overlay-item"><a href="#" onclick="alert('Replace with report link'); return false;">Report</a></li>
            <li class="overlay-item"><a href="#" onclick="alert('Replace with GitHub link'); return false;">Code</a></li>
            <li class="overlay-item"><a href="#" onclick="alert('Replace with data link'); return false;">Data</a></li>
          </ul>
        </div>
      </div>
      <div style="color:var(--grey); font-size:12px;">
        © 2025 Zhong Lab | UC San Diego
      </div>
    </div>
  </section>

  <main>
    <section class="gallery-wrap" aria-label="Image gallery">
      <div class="gallery">

        <div class="col">
          <a class="tile" id="p1" href="#p1"><img src="images/p1.jpg" alt="Picture 1"><div class="cap">P1</div></a>
          <a class="tile" id="p2" href="#p2"><img src="images/p2.jpg" alt="Picture 2"><div class="cap">P2</div></a>
          <a class="tile" id="p3" href="#p3"><img src="images/p3.jpg" alt="Picture 3"><div class="cap">P3</div></a>
          <a class="tile" id="p4" href="#p4"><img src="images/p4.jpg" alt="Picture 4"><div class="cap">P4</div></a>
        </div>

        <div class="col">
          <a class="tile" id="p5" href="#p5"><img src="images/p5.jpg" alt="Picture 5"><div class="cap">P5</div></a>
          <a class="tile" id="p6" href="#p6"><img src="images/p6.jpg" alt="Picture 6"><div class="cap">P6</div></a>
          <a class="tile" id="p7" href="#p7"><img src="images/p7.jpg" alt="Picture 7"><div class="cap">P7</div></a>
          <a class="tile" id="p8" href="#p8"><img src="images/p8.jpg" alt="Picture 8"><div class="cap">P8</div></a>
        </div>

      </div>
    </section>
  </main>

  <section class="copyright-section">
    © 2025 Zhong Lab | UC San Diego | Taojin Peng & Zhixuan Song
  </section>

  <script>
    // -----------------------------
    // Scroll-based title split animation
    // -----------------------------
    const titleBase = document.getElementById('titleBase');
    const titleLeft = document.getElementById('titleLeft');
    const titleRight = document.getElementById('titleRight');
    const titleContainer = document.getElementById('titleContainer');
    const bubbleNav = document.getElementById('bubbleNav');
    const scrollIndicator = document.querySelector('.scroll-indicator');

    let isSplitting = false;

    function handleScroll() {
      const scrollY = window.scrollY;
      const windowHeight = window.innerHeight;
      
      // Calculate progress (0 to 1) over the first half of viewport height
      const progress = Math.min(scrollY / (windowHeight * 0.5), 1);
      
      // Start splitting after a small scroll threshold
      const splitThreshold = 0.05;
      
      if (progress > splitThreshold) {
        // Hide base, show split halves
        if (!isSplitting) {
          isSplitting = true;
          titleBase.classList.add('hidden');
          titleLeft.classList.add('visible');
          titleRight.classList.add('visible');
        }
        
        // Adjusted progress for the split animation (0 to 1 after threshold)
        const splitProgress = Math.min((progress - splitThreshold) / (1 - splitThreshold), 1);
        
        // Split distance increases as you scroll
        const splitDistance = splitProgress * 100; // percentage
        
        // Opacity fades out
        const opacity = 1 - splitProgress;
        
        // Apply transforms to split halves
        titleLeft.style.transform = `translateX(-${splitDistance}%)`;
        titleLeft.style.opacity = opacity;
        
        titleRight.style.transform = `translateX(${splitDistance}%)`;
        titleRight.style.opacity = opacity;
        
      } else {
        // Show base, hide split halves
        if (isSplitting) {
          isSplitting = false;
          titleBase.classList.remove('hidden');
          titleLeft.classList.remove('visible');
          titleRight.classList.remove('visible');
        }
        
        // Reset transforms
        titleLeft.style.transform = 'translateX(0)';
        titleLeft.style.opacity = 1;
        titleRight.style.transform = 'translateX(0)';
        titleRight.style.opacity = 1;
      }
      
      // Hide title container completely when done
      if (progress >= 1) {
        titleContainer.style.visibility = 'hidden';
      } else {
        titleContainer.style.visibility = 'visible';
      }
      
      // Show bubble nav after title disappears
      if (progress > 0.7) {
        bubbleNav.classList.add('visible');
      } else {
        bubbleNav.classList.remove('visible');
      }
      
      // Fade out scroll indicator
      if (scrollIndicator) {
        scrollIndicator.style.opacity = 1 - (progress * 2);
      }
    }

    // Throttle scroll events for performance
    let ticking = false;
    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          handleScroll();
          ticking = false;
        });
        ticking = true;
      }
    });

    // Initial call
    handleScroll();

    // -----------------------------
    // Menu overlay behavior
    // -----------------------------
    const overlay = document.getElementById('menuOverlay');
    const openBtn = document.getElementById('openMenu');
    const closeBtn = document.getElementById('closeMenu');

    function openMenu(){
      overlay.classList.add('open');
      document.body.style.overflow = 'hidden';
      closeBtn.focus();
    }
    function closeMenu(){
      overlay.classList.remove('open');
      document.body.style.overflow = '';
      openBtn.focus();
    }
    openBtn.addEventListener('click', openMenu);
    closeBtn.addEventListener('click', closeMenu);
    overlay.addEventListener('click', (e) => { if (e.target === overlay) closeMenu(); });
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && overlay.classList.contains('open')) closeMenu(); });
    overlay.querySelectorAll('[data-close]').forEach(a => a.addEventListener('click', closeMenu));

    // -----------------------------
    // Staggered bubble entrance animation
    // -----------------------------
    const bubbles = document.querySelectorAll('.bubble');
    bubbles.forEach((bubble, index) => {
      bubble.style.transitionDelay = `${index * 0.1}s`;
    });
  </script>
</body>
</html>

 
